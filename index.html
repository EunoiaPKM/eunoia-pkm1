<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perpustakaan SMPK PENABUR Kota Modern</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        /* Animated Background */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Floating Animation */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes floatReverse {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(20px); }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        .float-reverse {
            animation: floatReverse 8s ease-in-out infinite;
        }
        
        /* Fade In Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .fade-in-left {
            animation: fadeInLeft 0.8s ease-out forwards;
        }
        
        .fade-in-right {
            animation: fadeInRight 0.8s ease-out forwards;
        }
        
        /* Staggered Animation */
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        .stagger-5 { animation-delay: 0.5s; }
        
        /* Enhanced Card Hover */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .card-hover::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .card-hover:hover::before {
            left: 100%;
        }
        
        .card-hover:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        /* Dewey Cards with Enhanced Gradients */
        .dewey-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            position: relative;
            overflow: hidden;
        }
        
        .dewey-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .dewey-card:hover::after {
            transform: translateX(100%);
        }
        
        .dewey-card:nth-child(2n) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .dewey-card:nth-child(3n) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .dewey-card:nth-child(4n) {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        .dewey-card:nth-child(5n) {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        .dewey-card:nth-child(6n) {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        .dewey-card:nth-child(7n) {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
        }
        .dewey-card:nth-child(8n) {
            background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
        }
        .dewey-card:nth-child(9n) {
            background: linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%);
        }
        .dewey-card:nth-child(10n) {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        /* Pulse Animation */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* Rotating Animation */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .rotate-animation {
            animation: rotate 20s linear infinite;
        }
        
        /* Bounce Animation */
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
            40%, 43% { transform: translate3d(0,-30px,0); }
            70% { transform: translate3d(0,-15px,0); }
            90% { transform: translate3d(0,-4px,0); }
        }
        
        .bounce-animation {
            animation: bounce 2s ease infinite;
        }
        
        /* Glow Effect */
        .glow-effect {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
            transition: box-shadow 0.3s ease;
        }
        
        .glow-effect:hover {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
        }
        
        /* Text Gradient */
        .text-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Shimmer Effect */
        @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
        }
        
        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: shimmer 2s infinite;
        }
        
        /* Scale Animation on Scroll */
        .scale-in {
            transform: scale(0.8);
            opacity: 0;
            transition: all 0.6s ease-out;
        }
        
        .scale-in.visible {
            transform: scale(1);
            opacity: 1;
        }
        
        /* Button Hover Effects */
        .btn-hover {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .btn-hover::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-hover:hover::before {
            left: 100%;
        }
        
        /* Loading Animation */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .spin-animation {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 py-4 sm:py-8">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div class="flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1">
                    <div class="w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full flex 
items-center justify-center flex-shrink-0 overflow-hidden">
                        <img src="https://lh3.googleusercontent.com/d/1a8y6LjZ7yT4JWm3iWYQdbqARgdMaUlWA" alt="Logo SMPK PENABUR" class="w-14 h-14 sm:w-18 sm:h-18 object-contain" onerror="this.style.display='none'; this.parentElement.innerHTML='<svg class=\'w-10 h-10 sm:w-12 sm:h-12 text-purple-600\' fill=\'currentColor\' viewBox=\'0 0 24 24\'><path d=\'M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z\'/></svg>';">
                    </div>
              
            <div class="min-w-0">
                        <h1 class="text-xl sm:text-2xl lg:text-3xl font-bold truncate">Perpustakaan Digital</h1>
                        <p class="text-purple-100 text-sm sm:text-base truncate">SMPK PENABUR Kota Modern</p>
                    </div>
            
                </div>
                <nav class="flex space-x-2 sm:space-x-4 lg:space-x-6">
                    <button onclick="enhancedShowSection('home')" class="nav-btn bg-white bg-opacity-20 px-3 sm:px-4 py-2 rounded-lg hover:bg-opacity-30 transition-all text-sm sm:text-base">Home</button>
                    <button onclick="enhancedShowSection('catalog')" class="nav-btn bg-white bg-opacity-20 px-3 sm:px-4 py-2 rounded-lg hover:bg-opacity-30 transition-all text-sm sm:text-base">Katalog</button>
            
                    <button onclick="enhancedShowSection('analytics')" class="nav-btn bg-white bg-opacity-20 px-3 sm:px-4 py-2 rounded-lg hover:bg-opacity-30 transition-all text-sm sm:text-base">Analitik</button>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-6 py-8">
        <section id="home" class="">
    
            <div class="relative bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 text-white rounded-3xl mb-12 overflow-hidden glow-effect">
                <div class="absolute inset-0 bg-black bg-opacity-20"></div>
                
                <div class="absolute inset-0">
                    <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full opacity-30 float-animation"></div>
                    <div class="absolute top-3/4 left-1/3 w-1 h-1 bg-yellow-300 rounded-full opacity-40 float-reverse"></div>
                    <div class="absolute top-1/2 right-1/4 w-3 h-3 bg-purple-300 rounded-full opacity-20 float-animation" style="animation-delay: 2s;"></div>
    
                    <div class="absolute bottom-1/4 left-1/2 w-2 h-2 bg-blue-300 rounded-full opacity-30 float-reverse" style="animation-delay: 1s;"></div>
                </div>
                
                <div class="relative px-8 py-16 text-center">
                    <div 
class="max-w-4xl mx-auto">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6 fade-in-up">
                            Selamat Datang di<br>
                            <span class="text-yellow-300 pulse-animation">Perpustakaan Digital</span>
         
                        </h1>
                        <p class="text-xl md:text-2xl mb-8 text-purple-100 fade-in-up stagger-1">
                            SMPK PENABUR Kota Modern
                        
</p>
                        <p class="text-lg mb-10 max-w-2xl mx-auto text-purple-50 fade-in-up stagger-2">
                            Jelajahi ribuan koleksi buku digital, materi pembelajaran, dan sumber daya pendidikan yang tersedia 24/7 untuk mendukung perjalanan belajar Anda
                       
 </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center fade-in-up stagger-3">
                            <button onclick="enhancedShowSection('catalog')" class="bg-yellow-400 text-purple-900 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-yellow-300 transition-all transform hover:scale-105 shadow-lg btn-hover bounce-animation">
                         
                        üîç Jelajahi Katalog
                            </button>
                            <button onclick="enhancedShowSection('analytics')" class="bg-white bg-opacity-20 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-opacity-30 transition-all border-2 border-white border-opacity-30 btn-hover">
                    
                        üìä Lihat Statistik
                            </button>
                        </div>
                    </div>
              
                </div>
                
                <div class="absolute top-10 left-10 text-6xl opacity-20 float-animation">üìö</div>
                <div class="absolute bottom-10 right-10 text-6xl opacity-20 float-reverse">üéì</div>
                <div class="absolute 
top-1/2 left-20 text-4xl opacity-10 rotate-animation">‚ú®</div>
                <div class="absolute top-20 right-1/4 text-4xl opacity-10 pulse-animation">üí°</div>
                <div class="absolute bottom-1/4 left-1/3 text-3xl opacity-15 bounce-animation" style="animation-delay: 1s;">üåü</div>
                <div class="absolute top-1/3 right-1/3 text-2xl opacity-20 float-animation" style="animation-delay: 3s;">üöÄ</div>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-lg text-center card-hover">
                    <div class="text-3xl mb-2">üìñ</div>
                    <div class="text-2xl font-bold text-gray-800">5,000+</div>
               
                    <div class="text-gray-600 text-sm">Koleksi Buku</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg text-center card-hover">
                    <div class="text-3xl mb-2">üë•</div>
                    <div class="text-2xl font-bold text-gray-800">1,200+</div>
         
                    <div class="text-gray-600 text-sm">Pengguna Aktif</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg text-center card-hover">
                    <div class="text-3xl mb-2">üèÜ</div>
                    <div class="text-2xl font-bold text-gray-800">10</div>
   
                    <div class="text-gray-600 text-sm">Kategori Utama</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg text-center card-hover">
                    <div class="text-3xl mb-2">‚è∞</div>
                    
                    <div class="text-2xl font-bold text-gray-800">24/7</div>
                    <div class="text-gray-600 text-sm">Akses Online</div>
                </div>
            </div>

            <div class="mb-12">
                <h2 class="text-3xl 
font-bold text-center text-gray-800 mb-8">Fitur Unggulan</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-xl shadow-lg card-hover text-center">
                        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                  
                        <span class="text-2xl">üîç</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Pencarian Mudah</h3>
                        <p class="text-gray-600">Temukan buku yang Anda butuhkan dengan sistem pencarian yang canggih dan filter 
kategori</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg card-hover text-center">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                     
                        <span class="text-2xl">‚òÅÔ∏è</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Akses Google Drive</h3>
                        <p class="text-gray-600">Semua koleksi tersimpan di Google Drive dengan pembagian folder sesuai klasifikasi Dewey Decimal untuk 
akses yang mudah</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg card-hover text-center">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                   
                        <span class="text-2xl">üìä</span>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Analitik Real-time</h3>
                        <p class="text-gray-600">Pantau statistik penggunaan dan temukan koleksi yang paling populer di kalangan siswa</p>
  
                    </div>
                </div>
            </div>

            <div class="mb-12">
                <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Kategori Populer</h2>
   
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                    <div class="bg-gradient-to-br from-purple-500 to-pink-500 text-white p-6 rounded-xl text-center card-hover cursor-pointer" onclick="enhancedShowSection('catalog')">
                        <div class="text-3xl mb-2">üî¨</div>
                        <div class="font-semibold">Sains</div>
  
                        <div class="text-xs opacity-80">500-599</div>
                    </div>
                    <div class="bg-gradient-to-br from-blue-500 to-cyan-500 text-white p-6 rounded-xl text-center card-hover cursor-pointer" onclick="enhancedShowSection('catalog')">
                        <div class="text-3xl 
mb-2">üèõÔ∏è</div>
                        <div class="font-semibold">Sosial</div>
                        <div class="text-xs opacity-80">300-399</div>
                    </div>
                    <div class="bg-gradient-to-br from-green-500 to-teal-500 text-white p-6 rounded-xl text-center card-hover 
cursor-pointer" onclick="enhancedShowSection('catalog')">
                        <div class="text-3xl mb-2">üìö</div>
                        <div class="font-semibold">Sastra</div>
                        <div class="text-xs opacity-80">800-899</div>
                    </div>
  
                    <div class="bg-gradient-to-br from-orange-500 to-red-500 text-white p-6 rounded-xl text-center card-hover cursor-pointer" onclick="enhancedShowSection('catalog')">
                        <div class="text-3xl mb-2">üíª</div>
                        <div class="font-semibold">Teknologi</div>
                     
                        <div class="text-xs opacity-80">000-099</div>
                    </div>
                    <div class="bg-gradient-to-br from-pink-500 to-rose-500 text-white p-6 rounded-xl text-center card-hover cursor-pointer" onclick="enhancedShowSection('catalog')">
                        <div class="text-3xl mb-2">üé®</div>
                   
                        <div class="font-semibold">Seni</div>
                        <div class="text-xs opacity-80">700-799</div>
                    </div>
                </div>
            </div>

            <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl p-8 text-center">
                <h2 class="text-2xl md:text-3xl font-bold mb-4">Mulai Jelajahi Sekarang!</h2>
                <p class="text-lg mb-6 opacity-90">Ribuan buku menanti untuk dibaca.
Temukan pengetahuan baru hari ini.</p>
                <button onclick="enhancedShowSection('catalog')" class="bg-white text-indigo-600 px-8 py-3 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-all transform hover:scale-105 shadow-lg">
                    üöÄ Mulai Eksplorasi
                </button>
            </div>
        </section>

        <section id="catalog" class="hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Katalog Perpustakaan</h2>
                <div class="flex space-x-4">
                    <input type="text" id="searchInput" placeholder="Cari kategori..." class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
  
                    <button onclick="searchCatalog()" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors">Cari</button>
                </div>
            </div>
            
            <div id="catalogGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
               
                </div>
        </section>

        <section id="analytics" class="hidden">
            <div class="flex justify-between items-center mb-6 sm:mb-8">
                <h2 class="text-2xl sm:text-3xl font-bold text-gray-800">Dashboard Analitik</h2>
            
                <div class="flex items-center space-x-2">
                    <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-sm text-gray-600 font-medium">Real-time</span>
                </div>
            </div>
            
     
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div class="min-w-0 flex-1">
 
                            <p class="text-gray-500 text-xs sm:text-sm truncate">Total Kunjungan</p>
                            <p class="text-xl sm:text-2xl font-bold text-gray-800 transition-all duration-200" id="totalVisits">0</p>
                        </div>
         
                        <div class="text-2xl sm:text-3xl ml-2">üë•</div>
                    </div>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
  
                        <div class="min-w-0 flex-1">
                            <p class="text-gray-500 text-xs sm:text-sm truncate">Kunjungan Hari Ini</p>
                            <p class="text-xl sm:text-2xl font-bold text-gray-800 transition-all duration-200" id="todayVisits">0</p>
       
                        </div>
                        <div class="text-2xl sm:text-3xl ml-2">üìÖ</div>
                    </div>
                </div>
                <div class="bg-white p-4 sm:p-6 
rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div class="min-w-0 flex-1">
                            <p class="text-gray-500 text-xs sm:text-sm truncate">Katalog Diakses</p>
                 
                            <p class="text-xl sm:text-2xl font-bold text-gray-800 transition-all duration-200" id="catalogAccessed">0</p>
                        </div>
                        <div class="text-2xl sm:text-3xl ml-2">üìñ</div>
                    </div>
           
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div class="min-w-0 flex-1">
                         
                            <p class="text-gray-500 text-xs sm:text-sm truncate">Rata-rata Harian</p>
                            <p class="text-xl sm:text-2xl font-bold text-gray-800 transition-all duration-200" id="dailyAverage">0</p>
                        </div>
                        <div class="text-2xl sm:text-3xl ml-2">üìà</div>
      
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
      
                    <h3 class="text-lg sm:text-xl font-semibold mb-4">Kunjungan 7 Hari Terakhir</h3>
                    <div class="relative h-64 sm:h-80">
                        <canvas id="visitsChart"></canvas>
                    </div>
           
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                    <h3 class="text-lg sm:text-xl font-semibold mb-4">Katalog Paling Populer</h3>
                    <div class="relative h-64 sm:h-80">
                        <canvas 
id="popularChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg mt-6 lg:mt-8 overflow-hidden">
                <div class="p-4 
sm:p-6 border-b border-gray-200">
                    <h3 class="text-lg sm:text-xl font-semibold">Kategori Paling Sering Diakses</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full min-w-full">
                 
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Kode</th>
                       
                                <th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Kategori</th>
                                <th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Akses</th>
                                <th class="px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase 
tracking-wider">%</th>
                            </tr>
                        </thead>
                        <tbody id="popularTable" class="bg-white divide-y divide-gray-200">
                    
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    
    </main>

    <script>
        // =================================================================================
        // WARNING: PASTIKAN GANTI URL INI DENGAN URL DEPLOYED GOOGLE APPS SCRIPT ANDA!
        // =================================================================================
        const GAS_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyzk9SVDj66w8CjPoyJPHijaT2DcAuaQlAFkwsmXujR8ag6amrROU-iOqFs0G2fQEtT/exec";
        
        // --- DATA BUKU/KATALOG (TIDAK PERLU DIUBAH) ---
        const deweyCategories = [
            { code: '000-099', title: 'Ilmu Komputer & Informasi', description: 'Komputer, internet, dan teknologi informasi', driveUrl: 'https://drive.google.com/drive/folders/1sMejTAY3_UvWBeoT5v9QEJ7EiAjY0ah6' },
            { code: '100-199', title: 'Filsafat & Psikologi', description: 'Pemikiran filosofis dan ilmu jiwa', driveUrl: 'https://drive.google.com/drive/folders/1krIJUvFjzkDDplXIuyzbbur55Seeewlu' },
            { code: '200-299', title: 'Agama', description: 'Berbagai ajaran dan kepercayaan agama', driveUrl: 'https://drive.google.com/drive/folders/18hEM4JgXIhc64ZB62CAPbrgsByPAahbu' },
            { code: '300-399', title: 'Ilmu Sosial', description: 'Sosiologi, politik, ekonomi, dan hukum', driveUrl: 'https://drive.google.com/drive/folders/1YSdbOXdL5uiFP9U_63SzOAiGrb5tZkkQ' },
            { code: '400-499', title: 'Bahasa', description: 'Linguistik dan pembelajaran bahasa', driveUrl: 'https://drive.google.com/drive/folders/1HlkRe1iwewBDx-9glCmmnaY7raoRnX6C' },
            { code: '500-599', title: 'Sains & Matematika', description: 'Ilmu pengetahuan alam dan matematika', driveUrl: 'https://drive.google.com/drive/folders/15jAyy-OxQl2TCEuC3fNYTmPFHagJtmj-' },
            { code: '600-699', title: 'Teknologi & Ilmu Terapan', description: 'Teknik, kedokteran, dan pertanian', driveUrl: 'https://drive.google.com/drive/folders/11-XXkbJI85nYwAwWTzCVOrmmT2Dupihw' },
            { code: '700-799', title: 'Seni & Rekreasi', description: 'Seni rupa, musik, olahraga, dan permainan', driveUrl: 'https://drive.google.com/drive/folders/1brVKIR4vHBEmcIeY7Jg5akMsNPuki116' },
            { code: '800-899', title: 'Sastra', description: 'Karya sastra dan kritik sastra', driveUrl: 'https://drive.google.com/drive/folders/1cTAqHVVcMZhMVCOYFti1jk9to2Hxx0E_' },
            { code: '900-999', title: 'Sejarah & Geografi', description: 'Sejarah dunia dan ilmu bumi', driveUrl: 'https://drive.google.com/drive/folders/1Jbf-L_CYmhpp9W-KMrx_MohIhBtoLfqJ' }
        ];

        // --- VARIABEL ANALITIK ---
        let visitsChart = null;
        let popularChart = null;

        // --- FUNGSI UTILITY ---
        function showCopyNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-5 right-5 bg-green-500 text-white px-4 py-2 rounded-lg shadow-xl z-50 transition-transform transform translate-x-full';
            notification.innerHTML = `<div class="flex items-center"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>${message}</div>`;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.remove('translate-x-full');
                notification.classList.add('translate-x-0');
            }, 10);

            setTimeout(() => {
                notification.classList.add('translate-x-full');
                notification.classList.remove('translate-x-0');
                notification.addEventListener('transitionend', () => notification.remove());
            }, 3000);
        }

        function getEmoji(index) {
            const emojis = ['üíª', 'üß†', 'üïäÔ∏è', 'üèõÔ∏è', 'üó£Ô∏è', 'üî¨', '‚öôÔ∏è', 'üé®', 'üìö', 'üåç'];
            return emojis[index] || 'üìñ';
        }
        
        // --- FUNGSI BACKEND (APPS SCRIPT INTERACTION) ---

        /**
         * Mengirim log data ke Google Apps Script.
         * @param {string} eventType - Jenis event ('visit', 'catalog_access', 'view_analytics').
         * @param {Object} [details={}] - Detail tambahan event (misalnya kategori yang diakses).
         */
        function sendLog(eventType, details = {}) {
            if (GAS_WEB_APP_URL.includes("GANTI_DENGAN_URL_DEPLOYED_WEB_APP_ANDA")) {
                console.warn("Log TIDAK DIKIRIM: Harap ganti placeholder GAS_WEB_APP_URL dengan URL Apps Script Anda.");
                return;
            }

            const payload = {
                eventType: eventType,
                timestamp: new Date().toISOString(),
                details: details
            };

            fetch(GAS_WEB_APP_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            })
            .then(response => {
                // Diabaikan: Tidak perlu log respon sukses, hanya log error
            })
            .catch(error => {
                console.error("Gagal mengirim log ke Apps Script:", error);
            });
        }

        /**
         * Mengambil data analitik dari Google Apps Script.
         */
        async function fetchAnalyticsData() {
            if (GAS_WEB_APP_URL.includes("GANTI_DENGAN_URL_DEPLOYED_WEB_APP_ANDA")) {
                document.getElementById('totalVisits').textContent = 'N/A';
                document.getElementById('todayVisits').textContent = 'N/A';
                document.getElementById('catalogAccessed').textContent = 'N/A';
                document.getElementById('dailyAverage').textContent = 'N/A';
                document.getElementById('visitsChart').parentElement.innerHTML = '<p class="text-red-500 text-center">Gagal memuat data: Harap perbarui GAS_WEB_APP_URL.</p>';
                document.getElementById('popularChart').parentElement.innerHTML = '<p class="text-red-500 text-center">Gagal memuat data: Harap perbarui GAS_WEB_APP_URL.</p>';
                document.getElementById('popularTable').innerHTML = '<tr><td colspan="4" class="text-center py-4 text-gray-500">Gagal memuat data: Harap perbarui GAS_WEB_APP_URL.</td></tr>';
                return;
            }

            try {
                const response = await fetch(GAS_WEB_APP_URL + '?action=getAnalytics');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                
                if (data.status === 'success') {
                    updateAnalyticsDashboard(data.analytics);
                    drawCharts(data.analytics);
                } else {
                    throw new Error(data.message || 'Gagal mengambil data analitik dari Apps Script.');
                }
            } catch (error) {
                console.error("Error fetching analytics data:", error);
                // Tampilkan pesan error di dashboard
                document.getElementById('totalVisits').textContent = 'ERROR';
                document.getElementById('todayVisits').textContent = 'ERROR';
                document.getElementById('catalogAccessed').textContent = 'ERROR';
                document.getElementById('dailyAverage').textContent = 'ERROR';
            }
        }


        // --- FUNGSI UTAMA ---

        // 1. Inisialisasi
        function init() {
            generateCatalog();
            showSection('home');
            
            // Catat event kunjungan (page load)
            sendLog('visit'); 
        }

        // 2. Generate Catalog
        function generateCatalog() {
            const catalogGrid = document.getElementById('catalogGrid');
            catalogGrid.innerHTML = '';
            deweyCategories.forEach((category, index) => {
                const card = document.createElement('div');
                card.className = 'dewey-card card-hover text-white p-6 rounded-xl shadow-lg cursor-pointer';
                card.innerHTML = `
                    <div class="text-3xl mb-4">${getEmoji(index)}</div>
                    <h3 class="text-xl font-bold mb-2">${category.code}</h3>
                    <h4 class="text-lg font-semibold mb-2">${category.title}</h4>
                    <p class="text-sm opacity-90 mb-3">${category.description}</p>
                    <div class="mt-4 mb-3">
                        <div class="bg-white bg-opacity-20 p-2 rounded text-xs break-all">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-semibold">üîó Link Google Drive:</span>
                                <button onclick="copyLink('${category.driveUrl}', event)" class="bg-white bg-opacity-30 hover:bg-opacity-50 px-2 py-1 rounded text-xs transition-all"> üìã Copy </button>
                            </div>
                            <div class="text-xs opacity-80 cursor-pointer" onclick="copyLink('${category.driveUrl}', event)" title="Klik untuk copy link"> ${category.driveUrl.substring(0, 30)}... </div>
                        </div>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded">üìÅ Google Drive</span>
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                `;
                card.onclick = () => openCatalog(category);
                catalogGrid.appendChild(card);
            });
        }

        // 3. Open Catalog & Track Access
        function openCatalog(category) {
            // Log event akses katalog ke Apps Script
            sendLog('catalog_access', { code: category.code, title: category.title });

            // Tampilkan modal konfirmasi
            const confirmed = confirm(`Anda akan diarahkan ke Google Drive untuk mengakses koleksi "${category.title}" (${category.code}). Lanjutkan?`);

            if (confirmed) {
                // Gunakan URL drive spesifik untuk kategori ini
                const driveUrl = category.driveUrl;
                window.open(driveUrl, '_blank'); 

                // Tampilkan pesan sukses
                setTimeout(() => { showCopyNotification('Google Drive dibuka di tab baru!'); }, 500);
            }
        }

        // 4. Update Dashboard Analytics
        function updateAnalyticsDashboard(data) {
            document.getElementById('totalVisits').textContent = data.totalVisits.toLocaleString();
            document.getElementById('todayVisits').textContent = data.todayVisits.toLocaleString();
            document.getElementById('catalogAccessed').textContent = data.catalogAccessed.toLocaleString();
            document.getElementById('dailyAverage').textContent = (data.totalVisits / 30).toFixed(1); // Perkiraan rata-rata 30 hari
            
            // Update Popular Table
            const popularTable = document.getElementById('popularTable');
            popularTable.innerHTML = '';
            
            const totalAccess = data.popularCategories.reduce((sum, cat) => sum + cat.visits, 0);

            if (data.popularCategories.length === 0) {
                 popularTable.innerHTML = '<tr><td colspan="4" class="text-center py-4 text-gray-500">Belum ada data akses katalog.</td></tr>';
                 return;
            }

            data.popularCategories.forEach(cat => {
                const percentage = totalAccess > 0 ? ((cat.visits / totalAccess) * 100).toFixed(1) : '0.0';
                const row = document.createElement('tr');
                row.className = 'hover:bg-purple-50 transition-colors';
                row.innerHTML = `
                    <td class="px-3 sm:px-6 py-3 whitespace-nowrap text-sm font-medium text-gray-900">${cat.code}</td>
                    <td class="px-3 sm:px-6 py-3 whitespace-nowrap text-sm text-gray-600">${cat.title}</td>
                    <td class="px-3 sm:px-6 py-3 whitespace-nowrap text-sm text-gray-600">${cat.visits.toLocaleString()}</td>
                    <td class="px-3 sm:px-6 py-3 whitespace-nowrap text-sm font-semibold text-purple-600">${percentage}%</td>
                `;
                popularTable.appendChild(row);
            });
        }

        // 5. Gambar Chart
        function drawCharts(data) {
            // Chart Kunjungan 7 Hari Terakhir
            const visitsCtx = document.getElementById('visitsChart').getContext('2d');
            if (visitsChart) visitsChart.destroy();
            visitsChart = new Chart(visitsCtx, {
                type: 'line',
                data: {
                    labels: data.weeklyLabels, // Dari Apps Script
                    datasets: [{
                        label: 'Kunjungan Harian',
                        data: data.weeklyVisits, // Dari Apps Script
                        backgroundColor: 'rgba(99, 102, 241, 0.2)',
                        borderColor: 'rgba(99, 102, 241, 1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, grid: { display: false } },
                        x: { grid: { display: false } }
                    },
                    plugins: { legend: { display: false } }
                }
            });

            // Chart Katalog Paling Populer (Top 5)
            const popularCtx = document.getElementById('popularChart').getContext('2d');
            if (popularChart) popularChart.destroy();
            
            const topCategories = data.popularCategories.slice(0, 5);
            const labels = topCategories.map(cat => cat.code);
            const visits = topCategories.map(cat => cat.visits);

            popularChart = new Chart(popularCtx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Jumlah Akses',
                        data: visits,
                        backgroundColor: [
                            '#8b5cf6', // Indigo-500
                            '#3b82f6', // Blue-500
                            '#10b981', // Green-500
                            '#f59e0b', // Amber-500
                            '#f43f5e'  // Rose-500
                        ],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }
        
        // 6. Tampilkan Section
        function showSection(sectionName) {
            // Sembunyikan semua section
            document.getElementById('home').classList.add('hidden');
            document.getElementById('catalog').classList.add('hidden');
            document.getElementById('analytics').classList.add('hidden');

            // Tampilkan section yang dipilih
            document.getElementById(sectionName).classList.remove('hidden');

            // Update tombol navigasi
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-white', 'bg-opacity-30');
                btn.classList.add('bg-white', 'bg-opacity-20');
            });

            // Highlight tombol navigasi aktif
            const activeBtn = document.querySelector(`button[onclick="enhancedShowSection('${sectionName}')"]`);
            if (activeBtn) {
                activeBtn.classList.remove('bg-opacity-20');
                activeBtn.classList.add('bg-opacity-30');
            }
            
            // Jika masuk ke halaman Analitik, fetch data
            if (sectionName === 'analytics') {
                sendLog('view_analytics'); // Log event view analytics
                fetchAnalyticsData();
            }
        }
        
        // 7. Cari Katalog
        function searchCatalog() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const catalogGrid = document.getElementById('catalogGrid');
            const cards = catalogGrid.children;

            for (let card of cards) {
                const text = card.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }
        }

        // 8. Copy Link
        function copyLink(link, event) {
            event.stopPropagation(); // Mencegah klik card secara keseluruhan
            navigator.clipboard.writeText(link).then(() => {
                showCopyNotification('Link berhasil dicopy!');
            }).catch(err => {
                console.error('Gagal menyalin link: ', err);
            });
        }

        // 9. Animasi Scrolling
        function initScrollAnimations() {
            const elements = document.querySelectorAll('.scale-in');
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 }); // 10% elemen terlihat

            elements.forEach(el => observer.observe(el));
        }

        // 10. Fungsi Animasi Loading untuk Tombol
        function addLoadingAnimation(button) {
            const originalText = button.innerHTML;
            button.innerHTML = '<span class="spin-animation inline-block">‚è≥</span> Loading...';
            button.disabled = true;
            
            // Set timeout untuk mengembalikan tombol ke kondisi awal setelah 1 detik
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
            }, 1000);
        }

        // 11. Enhanced button clicks dengan animasi loading
        function enhancedShowSection(sectionName) {
            const button = event.target;
            addLoadingAnimation(button);
            
            // Penundaan sebentar untuk memberikan efek loading sebelum pindah section
            setTimeout(() => {
                showSection(sectionName);
            }, 500);
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', function() {
            init();
            initScrollAnimations();
            
            // Tambahkan staggered animation ke elemen saat loading
            setTimeout(() => {
                document.querySelectorAll('.scale-in').forEach((el, index) => {
                    setTimeout(() => {
                        el.classList.add('visible');
                    }, index * 100);
                });
            }, 300);
        });

        // Search saat tombol Enter ditekan
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && document.activeElement.id === 'searchInput') {
                searchCatalog();
            }
        });

        // Tambahkan smooth scrolling
        document.documentElement.style.scrollBehavior = 'smooth';
    </script>
</body>
</html>
